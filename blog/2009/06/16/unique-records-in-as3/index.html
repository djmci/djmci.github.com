<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" dir="ltr" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" dir="ltr" lang="en-US">
<![endif]-->
<!--[if IE 9]>
<html id="ie9" dir="ltr" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8) | !(IE 9)  ]><!-->
<html dir="ltr" lang="en-US">
<!--<![endif]-->
<head>
<base href="/blog" />

<meta charset="UTF-8" />
<title>Unique records in AS3 | shiftperception.com</title>

<link rel="stylesheet" href="/blog/wp-content/themes/pink-touch-sp/style.css" type="text/css" media="screen" />

<meta name='robots' content='noindex,nofollow' />



<link rel='stylesheet' id='arvo-css'  href='http://fonts.googleapis.com/css?family=Arvo%3A400%2C700&#038;ver=3.3.1' type='text/css' media='all' />
<script type='text/javascript' src='/blog/wp-includes/js/comment-reply.js?ver=20090102'></script>

 

<link rel='next' title='Le Tour de Adobe' href='/blog/2009/07/05/le-tour-de-adobe/' />

<link rel='canonical' href='/blog/2009/06/16/unique-records-in-as3/' />
<link rel='shortlink' href='/blog/?p=622' />
</head>

<body class="single single-post postid-622 single-format-standard">
	<div id="wrapper">
		<div id="navigation">
			<div class="wrapper wide-wrapper clearfix">
				<div id="nav-menu" class="menu-postacrds-container"><ul id="menu-postacrds" class="menu"><li id="menu-item-893" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-893"><a href="/">Home</a></li>
<li id="menu-item-892" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-892"><a href="/blog/projects/">Projects</a></li>
<li id="menu-item-884" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-884"><a href="/blog/category/postacrds/">Postcards</a></li>
<li id="menu-item-886" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-886"><a href="/blog/category/development/">Development</a></li>
<li id="menu-item-887" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-887"><a href="/blog/category/interaction/">Interaction</a></li>
<li id="menu-item-888" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-888"><a href="/blog/category/design/">Design</a></li>
<li id="menu-item-889" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-889"><a href="/blog/category/thoughts/">Thoughts</a></li>
<li id="menu-item-890" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-890"><a href="/blog/category/desktops/">Desktops</a></li>
<li id="menu-item-891" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-891"><a href="/blog/category/essays/">Essays</a></li>
</ul></div>			</div>
		</div><!-- /#navigation -->
		<div id="navigation-frill"></div>

		<div id="header">
			<p class="blog-tag"><a href="/blog/" title="shiftperception.com" rel="home">shiftperception.com</a></p>

			<div id="description">
				<p></p>
			</div>
		</div><!-- /#header -->

		<div id="content">


	
<div id="post-622" class="post-622 post type-post status-publish format-standard hentry category-interaction tag-actionscript-3 tag-interaction tag-programming">
		<div class="date">
		<a href="/blog/2009/06/16/unique-records-in-as3/" title="Permalink to Unique records in AS3" rel="bookmark">
							<p><span class="day">16</span>Jun / 2009</p>
					</a>
	</div>
	
	<div class="content">
		<h1 class="entry-title"><a href="/blog/2009/06/16/unique-records-in-as3/" title="Permalink to Unique records in AS3" rel="bookmark">Unique records in AS3</a></h1>

		<div class="entry-content">
			<p>I&#8217;m sure others already know this little trick &#8211; but in case you didn&#8217;t&#8230;</p>
<p>The <code><a href="http://help.adobe.com/en_US/AS3LCR/Flash_10.0/index.html">filter</a></code>method for Arrays in Actionscript 3.0 comes in handy if you want to (ahem) *filter* certain elements out of your array :</p>
<p><code><br />
var tmpArray:Array = ["oranges", "apples","oranges", "pineapple", "carrots", "oranges"];<br />
var fruits:Array = tmpArray.filter(function(e, i, a){<br />
&nbsp;&nbsp;&nbsp;var isUnique:Boolean = (a.indexOf(e) == i);<br />
&nbsp;&nbsp;&nbsp;return (isUnique);<br />
}, this);<br />
trace(fruits.toString());<br />
</code><br />
<span id="more-622"></span><br />
Simple really. Basically you define your logic and associate it with the <code>filter </code>method. The filter method then iterates over each item in the Array, executing the logic as it goes (from first to last) and if it returns <code>true</code>, the iterated record will be included in a new Array. If <code>false</code>, it will be excluded.</p>
								</div><!-- .entry-content -->
	</div><!-- .content -->

		<div class="info">
					<p class="category-list">
				Posted in <a href="/blog/category/interaction/" title="View all posts in Interaction" rel="category tag">Interaction</a>			</p>
		
		<p class="tag-list">Tags: <a href="/blog/tag/actionscript-3/" rel="tag">actionscript 3</a>, <a href="/blog/tag/interaction/" rel="tag">Interaction</a>, <a href="/blog/tag/programming/" rel="tag">programming</a></p>
		<p>
			<span class="permalink"><a href="/blog/2009/06/16/unique-records-in-as3/" title="Permalink to Unique records in AS3" rel="bookmark">Permalink</a></span>

							<span class="notes"><a href="/blog/2009/06/16/unique-records-in-as3/#comments" title="Comment on Unique records in AS3"><span class="dsq-postid" rel="622 /blog/?p=622">2 Comments</span></a></span>
					</p>

			</div>
</div><!-- /.post -->
	<div class="pagination">
		<p class="clearfix">
			<a href="/blog/2009/06/11/communication-convergence/" rel="prev"><span class="older"><span class="meta-nav">&larr;</span> Previous post</span></a>			<a href="/blog/2009/07/05/le-tour-de-adobe/" rel="next"><span class="newer">Next post <span class="meta-nav">&rarr;</span></span></a>		</p>
	</div>

	
<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-3261">
        <div id="dsq-comment-header-3261" class="dsq-comment-header">
            <cite id="dsq-cite-3261">
http://buffered.io/                <span id="dsq-author-user-3261">OJ</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3261" class="dsq-comment-body">
            <div id="dsq-comment-message-3261" class="dsq-comment-message"><p>Hey Dan,</p>
<p>Functions like this are pretty awesome. They&#8217;ve got their roots in functional programming, which is where my heart lies!</p>
<p>Just one thing to look out for: <a href="http://help.adobe.com/en_US/AS3LCR/Flash_10.0/Array.html#indexOf()" title="indexOf() at Adobe" rel="nofollow">indexOf()</a> is an <a href="http://en.wikipedia.org/wiki/Big_O_notation" title="Big O @ Wikipedia" rel="nofollow">O(n)</a> function, which means that for each value in the array you&#8217;re traversing the whole array. That results in an algorithm of O(n<sup>2</sup>) complexity. It&#8217;ll scale really badly. Bear in mind that <a href="http://www.codinghorror.com/blog/archives/000957.html" title="Coding horror" rel="nofollow">everything is fast for small <em>n</em></a> <img src='/blog/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />  When you start getting arrays that are really big, you&#8217;ll find that performance is woeful.</p>
<p>Instead you&#8217;re looking to get yourself into the position where you can process the array in O(n) time. This means you&#8217;re going to have to use something like a map to keep track, rather than constantly reprocessing the list. For example:</p>
<p><code><br />
var map:Object = new Object();<br />
var fruits:Array = tmpArray.filter(function(e, i, a){<br />
&nbsp;if(map[e] == null){<br />
&nbsp;&nbsp;map[e] = true;<br />
&nbsp;&nbsp;return true;<br />
&nbsp;}<br />
&nbsp;return false;<br />
}, this);<br />
</code></p>
<p>Here you can see that we&#8217;re searching for items in an object/map rather than parsing the array. If the item is found, we indicate that it was already parsed. If it wasn&#8217;t found, we add it to the map and indicate that it&#8217;s unique.</p>
<p>Another approach is to brute-force convert the array to a set/map then convert it back. But that doesn&#8217;t preserve ordering in the array.</p>
<p>For larger arrays, this will be substantially quicker than your current approach <img src='/blog/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Cheers mate, keep the posts coming! Great to have you blogging again.<br />
OJ</p>
</div>
        </div>
    </li>

    </li>
    <li class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1" id="dsq-comment-3262">
        <div id="dsq-comment-header-3262" class="dsq-comment-header">
            <cite id="dsq-cite-3262">
                <span id="dsq-author-user-3262">dan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3262" class="dsq-comment-body">
            <div id="dsq-comment-message-3262" class="dsq-comment-message"><p>Thanks for the heads up OJ <img src='/blog/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Optimisation for performance is something that I need to explore more of &#8211; im constantly looking for ways to optimise the code, but often its about reducing code, not improving performance.</p>
<p>For indexOf() (for example) &#8211; how does one know that it&#8217;s O(n) &#8211; is this something you really need to have studied or is there some cheat sheet that highlights these tidbits of wisdom?</p>
</div>
        </div>
    </li>

    </li>
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = '/blog/2009/06/16/unique-records-in-as3/';
    var disqus_identifier = '622 /blog/?p=622';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'djmci';
    var disqus_title = "Unique records in AS3";
        var disqus_config = function () {
        var config = this; // Access to the config object

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            DISQUS.request.get('?cf_action=sync_comments&post_id=622');
        });
                    };
    var facebookXdReceiverPath = '/blog/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/alien.local\/~dan\/shiftperception\/blog\/2009\/06\/16\/unique-records-in-as3\/trackback\/"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.70';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>


		</div><!-- /#content -->
	</div><!-- /#wrapper -->

	<div id="footer-frill"></div>
	<div id="footer">
		<div class="wrapper">
		
<div id="widgets" class="clearfix three">
		<div id="first" class="widget-area">
				<div id="recent-posts-2" class="clearfix widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
				<li><a href="/blog/2009/11/09/experimenting-with-typekit-com/" title="Experimenting with TypeKit.com">Experimenting with TypeKit.com</a></li>
				<li><a href="/blog/2009/09/05/trespassers-will-be-electrocuted/" title="Trespassers will be electrocuted!">Trespassers will be electrocuted!</a></li>
				<li><a href="/blog/2009/07/05/poster-collection-2-agam/" title="Poster Collection &#8211; 2 &#8211; AGAM">Poster Collection &#8211; 2 &#8211; AGAM</a></li>
				<li><a href="/blog/2009/07/05/le-tour-de-adobe/" title="Le Tour de Adobe">Le Tour de Adobe</a></li>
				<li><a href="/blog/2009/06/16/unique-records-in-as3/" title="Unique records in AS3">Unique records in AS3</a></li>
				</ul>
		</div>	</div><!-- #first .widget-area -->
	
		<div id="second" class="widget-area">
		<div id="categories-2" class="clearfix widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="/blog/category/design/" title="View all posts filed under Design">Design</a>
</li>
	<li class="cat-item cat-item-8"><a href="/blog/category/desktops/" title="View all posts filed under Desktops">Desktops</a>
</li>
	<li class="cat-item cat-item-3"><a href="/blog/category/development/" title="View all posts filed under Development">Development</a>
</li>
	<li class="cat-item cat-item-48"><a href="/blog/category/essays/" title="View all posts filed under Essays">Essays</a>
</li>
	<li class="cat-item cat-item-10"><a href="/blog/category/interaction/" title="View all posts filed under Interaction">Interaction</a>
</li>
	<li class="cat-item cat-item-1"><a href="/blog/category/postacrds/" title="View all posts filed under Postacrds">Postacrds</a>
</li>
	<li class="cat-item cat-item-12"><a href="/blog/category/thoughts/" title="View all posts filed under Thoughts">Thoughts</a>
</li>
		</ul>
</div>	</div><!-- #second .widget-area -->
	
		<div id="third" class="widget-area">
		<div id="archives-3" class="clearfix widget widget_archive"><h3 class="widget-title">Archives</h3>		<select name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'> <option value="">Select Month</option> 	<option value='/blog/2009/11/'> November 2009 &nbsp;(1)</option>
	<option value='/blog/2009/09/'> September 2009 &nbsp;(1)</option>
	<option value='/blog/2009/07/'> July 2009 &nbsp;(2)</option>
	<option value='/blog/2009/06/'> June 2009 &nbsp;(2)</option>
	<option value='/blog/2009/05/'> May 2009 &nbsp;(1)</option>
	<option value='/blog/2008/05/'> May 2008 &nbsp;(1)</option>
	<option value='/blog/2008/03/'> March 2008 &nbsp;(1)</option>
	<option value='/blog/2008/02/'> February 2008 &nbsp;(3)</option>
	<option value='/blog/2007/12/'> December 2007 &nbsp;(1)</option>
	<option value='/blog/2007/11/'> November 2007 &nbsp;(1)</option>
	<option value='/blog/2007/10/'> October 2007 &nbsp;(2)</option>
	<option value='/blog/2007/09/'> September 2007 &nbsp;(1)</option>
	<option value='/blog/2007/08/'> August 2007 &nbsp;(3)</option>
	<option value='/blog/2007/07/'> July 2007 &nbsp;(3)</option>
	<option value='/blog/2007/06/'> June 2007 &nbsp;(3)</option>
	<option value='/blog/2007/05/'> May 2007 &nbsp;(3)</option>
	<option value='/blog/2007/04/'> April 2007 &nbsp;(4)</option>
	<option value='/blog/2007/03/'> March 2007 &nbsp;(4)</option>
	<option value='/blog/2007/02/'> February 2007 &nbsp;(9)</option>
	<option value='/blog/2007/01/'> January 2007 &nbsp;(2)</option>
	<option value='/blog/2006/12/'> December 2006 &nbsp;(14)</option>
	<option value='/blog/2006/11/'> November 2006 &nbsp;(13)</option>
	<option value='/blog/2006/10/'> October 2006 &nbsp;(17)</option>
	<option value='/blog/2006/09/'> September 2006 &nbsp;(17)</option>
	<option value='/blog/2006/08/'> August 2006 &nbsp;(3)</option>
	<option value='/blog/2006/07/'> July 2006 &nbsp;(1)</option>
	<option value='/blog/2001/04/'> April 2001 &nbsp;(1)</option>
 </select>
</div><div id="search-3" class="clearfix widget widget_search"><form method="get" id="searchfield" action="/blog/">
	<input name="s" type="text" onfocus="if ( this.value=='Search' ) this.value='';" onblur="if ( this.value=='' ) this.value='Search';" value="Search" />
</form>
</div>	</div><!-- #third .widget-area -->
	</div><!-- #widgets -->			<!--<p class="info-theme" role="contentinfo"><a href="http://wordpress.org/" rel="generator">Proudly powered by WordPress</a><span class="sep"> | </span>Theme: Pink Touch 2 by <a href="http://automattic.com/" rel="designer">Automattic</a>.</p>-->
		</div>
	</div>


</body>
</html>
